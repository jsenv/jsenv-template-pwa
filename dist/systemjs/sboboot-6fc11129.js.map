{
  "version": 3,
  "sources": [
    "../../src/boot/boot.js",
    "../../node_modules/@jsenv/core/helpers/babel/arrayLikeToArray/arrayLikeToArray.js",
    "../../src/boot/boot.utils.js",
    "../../node_modules/@jsenv/core/helpers/babel/slicedToArray/slicedToArray.js",
    "../../node_modules/@jsenv/core/helpers/babel/arrayWithHoles/arrayWithHoles.js",
    "../../node_modules/@jsenv/core/helpers/babel/iterableToArrayLimit/iterableToArrayLimit.js",
    "../../node_modules/@jsenv/core/helpers/babel/unsupportedIterableToArray/unsupportedIterableToArray.js",
    "../../node_modules/@jsenv/core/helpers/babel/nonIterableRest/nonIterableRest.js"
  ],
  "names": [
    "prepareApp",
    "loadBootCSSAndFonts",
    "loadApp",
    "arrayLikeToArray",
    "arr",
    "len",
    "length",
    "arr2",
    "Array",
    "i",
    "_await",
    "value",
    "then",
    "direct",
    "Promise",
    "resolve",
    "_async",
    "f",
    "args",
    "arguments",
    "apply",
    "this",
    "e",
    "reject",
    "_empty",
    "nextIDLEPromise",
    "window",
    "requestIdleCallback",
    "r",
    "timeout",
    "requestAnimationFrame",
    "boot",
    "all",
    "app",
    "isArray",
    "_i",
    "Symbol",
    "iterator",
    "_s",
    "_e",
    "_arr",
    "_n",
    "_d",
    "call",
    "next",
    "done",
    "push",
    "err",
    "return",
    "o",
    "minLen",
    "n",
    "Object",
    "prototype",
    "toString",
    "slice",
    "constructor",
    "name",
    "from",
    "test",
    "TypeError",
    "body",
    "result",
    "render",
    "splashscreen",
    "appIsReady",
    "race",
    "setTimeout",
    "takeOver",
    "updateSplascreenText",
    "message",
    "document",
    "querySelector",
    "innerHTML",
    "recover",
    "cssUrl",
    "crossOrigin",
    "link",
    "createElement",
    "rel",
    "onload",
    "onerror",
    "href",
    "head",
    "appendChild",
    "URL",
    "System",
    "import",
    "t",
    "fonts",
    "ready",
    "module"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/**\n * This is where you can orchestrate the loading of your application\n */\n\nimport { DEV } from \"#env\"\nimport { injectCSS, nextIDLEPromise } from \"./boot.utils.js\"\n\nconst boot = async () => {\n  const [, app] = await Promise.all([prepareApp(), loadApp()])\n  // app.render() can be very expensive so we wait a bit\n  // to let navigator an opportunity to cooldown.\n  // This should help to save battery power and RAM\n  await nextIDLEPromise()\n  app.render()\n  if (DEV) {\n    performance.measure(`App displayed`)\n  }\n  window.splashscreen.appIsReady()\n}\n\nconst prepareApp = async () => {\n  // try to load CSS + get the main fonts before displaying any text\n  // to avoid font swapping if possible\n  // give max 400ms for this\n  await Promise.race([\n    loadBootCSSAndFonts(),\n    new Promise((resolve) => setTimeout(resolve, 400)),\n  ])\n\n  // De-comment the await below to test the case where boot is slow\n  // await new Promise((resolve) => {\n  //   setTimeout(resolve, 3500)\n  // })\n\n  // window.splashscreen.takeOver() means this code is taking responsability of the splashscreen.\n  // It prevents main.html to display <div id=\"booting_is_slow\"></div> to the user\n  window.splashscreen.takeOver()\n\n  const updateSplascreenText = (message) => {\n    const splashscreenMessageNode = document.querySelector(\n      \"#splashscreen_message\",\n    )\n    splashscreenMessageNode.innerHTML = message\n  }\n\n  updateSplascreenText(`Loading banana...`)\n  if (DEV) {\n    performance.measure(`\"loading bannana...\" displayed`)\n  }\n  await new Promise((resolve) => {\n    setTimeout(resolve, 800)\n  })\n\n  updateSplascreenText(`Loading gorilla...`)\n  if (DEV) {\n    performance.measure(`\"loading gorilla...\" displayed`)\n  }\n  await new Promise((resolve) => {\n    setTimeout(resolve, 1000)\n  })\n\n  updateSplascreenText(`Loading the entire jungle...`)\n  if (DEV) {\n    performance.measure(`\"entire jungle...\" displayed`)\n  }\n  await new Promise((resolve) => {\n    setTimeout(resolve, 1200)\n  })\n}\n\nconst loadBootCSSAndFonts = async () => {\n  try {\n    await injectCSS(new URL(\"./boot.css\", import.meta.url), {\n      crossOrigin: true,\n    })\n    if (DEV) {\n      performance.measure(`boot.css loaded`)\n    }\n  } catch (e) {\n    return\n  }\n  await document.fonts.ready\n  if (DEV) {\n    performance.measure(`fonts ready`)\n  }\n}\n\nconst loadApp = async () => {\n  const app = await import(\"../app/app.js\")\n  if (DEV) {\n    performance.measure(\"app.js imported\")\n  }\n  return app\n}\n\nawait boot()\n",
    "/* eslint-disable no-eq-null, eqeqeq */\nexport default function arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length\n  var arr2 = new Array(len)\n  for (var i = 0; i < len; i++) arr2[i] = arr[i]\n  return arr2\n}\n",
    "export const injectCSS = (cssUrl, { crossOrigin } = {}) => {\n  return new Promise((resolve, reject) => {\n    const link = document.createElement(\"link\")\n    link.rel = \"stylesheet\"\n    link.onload = resolve\n    link.onerror = reject\n    link.href = cssUrl\n    link.crossOrigin = crossOrigin\n    document.head.appendChild(link)\n  })\n}\n\nexport const nextIDLEPromise = window.requestIdleCallback\n  ? ({ timeout = 60 } = {}) => {\n      return new Promise((resolve) => {\n        window.requestIdleCallback(resolve, { timeout })\n      })\n    }\n  : () => {\n      return new Promise((resolve) => {\n        window.requestAnimationFrame(resolve)\n      })\n    }\n",
    "import arrayWithHoles from \"../arrayWithHoles/arrayWithHoles.js\"\nimport iterableToArrayLimit from \"../iterableToArrayLimit/iterableToArrayLimit.js\"\nimport unsupportedIterableToArray from \"../unsupportedIterableToArray/unsupportedIterableToArray.js\"\nimport nonIterableRest from \"../nonIterableRest/nonIterableRest.js\"\n\nexport default (arr, i) =>\n  arrayWithHoles(arr) ||\n  iterableToArrayLimit(arr, i) ||\n  unsupportedIterableToArray(arr, i) ||\n  nonIterableRest()\n",
    "// eslint-disable-next-line consistent-return\nexport default (arr) => {\n  if (Array.isArray(arr)) return arr\n}\n",
    "export default function _iterableToArrayLimit(arr, i) {\n  // this is an expanded form of \\`for...of\\` that properly supports abrupt completions of\n  // iterators etc. variable names have been minimised to reduce the size of this massive\n  // helper. sometimes spec compliance is annoying :(\n  //\n  // _n = _iteratorNormalCompletion\n  // _d = _didIteratorError\n  // _e = _iteratorError\n  // _i = _iterator\n  // _s = _step\n  var _i =\n    arr == null\n      ? null\n      : (typeof Symbol !== \"undefined\" && arr[Symbol.iterator]) || arr[\"@@iterator\"]\n  if (_i == null) return\n  var _arr = []\n  var _n = true\n  var _d = false\n  var _s, _e\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value)\n      if (i && _arr.length === i) break\n    }\n  } catch (err) {\n    _d = true\n    _e = err\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]()\n    } finally {\n      if (_d) throw _e\n    }\n  }\n  return _arr\n}\n",
    "/* eslint-disable consistent-return */\nimport arrayLikeToArray from \"../arrayLikeToArray/arrayLikeToArray.js\"\n\nexport default function unsupportedIterableToArray(o, minLen) {\n  if (!o) return\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen)\n  var n = Object.prototype.toString.call(o).slice(8, -1)\n  if (n === \"Object\" && o.constructor) n = o.constructor.name\n  if (n === \"Map\" || n === \"Set\") return Array.from(o)\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return arrayLikeToArray(o, minLen)\n}\n",
    "export default () => {\n  throw new TypeError(\n    \"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\",\n  )\n}\n"
  ]
}