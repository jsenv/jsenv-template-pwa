System.register([],(function(e,t){"use strict";return{execute:function(){const n=(e,t,n)=>(e.addEventListener(t,n),()=>{e.removeEventListener(t,n)}),r=e=>(window.addEventListener("appinstalled",e),()=>{window.removeEventListener("appinstalled",e)}),o=()=>window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches,i=e=>{const t=window.matchMedia("(display-mode: standalone)");return t.addListener(e),()=>{t.removeListener(e)}};let a=!1;r((()=>{a=!0}));const l={isAvailable:()=>!!window.beforeinstallpromptEvent&&(!o()&&!a),listenAvailabilityChange:e=>{let t=l.isAvailable();const n=()=>{const n=l.isAvailable();n!==t&&(t=n,e(n))},o=s((e=>{window.beforeinstallpromptEvent=e,n()})),c=i((()=>{n()})),u=r((()=>{a=!0,n()}));return()=>{o(),c(),u()}},prompt:(c=function(){return window.beforeinstallpromptEvent?(window.beforeinstallpromptEvent.prompt(),e=window.beforeinstallpromptEvent.userChoice,t=function(e){return"accepted"===e.outcome},n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)):(console.warn("cannot prompt add to home screen: window.beforeinstallpromptEvent is missing"),!1);var e,t,n},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(c.apply(this,e))}catch(e){return Promise.reject(e)}})};var c;const s=e=>n(window,"beforeinstallprompt",e);function u(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const d=window.navigator.serviceWorker;function v(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function p(e,t,n){if(n)return t?t(e()):e();try{var r=Promise.resolve(e());return t?r.then(t):r}catch(e){return Promise.reject(e)}}function f(e,t){var n=e();return n&&n.then?n.then(t):t(n)}const m=Boolean(d)&&"https:"===document.location.protocol;let h=null,w=null;const g=(()=>{let e=[];return{listen:function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.once,o=void 0!==r&&r;if(o){const e=t;t=function(){a(),e(...arguments)}}e=[...e,t];let i=!1;const a=()=>{if(i)return;i=!0;const n=[];let r=e.length,o=!0;for(;r--;){const i=e[r];o&&i===t?o=!1:n.push(i)}e=n};return a},emit:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach((e=>{e(...n)}))}}})(),b=e=>{w&&w===e||(e&&"found a worker updating (worker state is: ".concat(e.state,")"),w=e,g.emit())},y=v((function(){return h?u(h,(function(e){return u(e.update(),(function(e){const t=e.installing;if(t)return b(t),!0;const n=e.waiting;return!!n&&(b(n),!0)}))})):(console.warn("registerServiceWorker must be called before checkServiceWorkerUpdate can be used"),!1)})),k=e=>{if(w)return((e,t)=>{const n=new MessageChannel,r=n.port1,o=n.port2;return new Promise(((n,i)=>{r.onmessage=function(e){"rejected"===e.data.status?i(e.data.value):n(e.data.value)},e.postMessage(t,[o])}))})(w,e);console.warn("no service worker updating to send message to")},E=v((function(e){if(!w)throw new Error("no service worker update to activate");return L(w,e)})),L=v((function(e){let t=!1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.onActivating,i=void 0===o?()=>{}:o,a=r.onActivated,l=void 0===a?()=>{}:a,c=r.onBecomesNavigatorController,s=void 0===c?()=>{}:c;const u=e.state,v=()=>new Promise((t=>{const r=n(e,"statechange",(()=>{"activating"===e.state&&i(),"activated"===e.state&&(l(),r(),t())}))}));return f((function(){if("installed"===u||"activating"===u)return"installed"===u&&k({action:"skipWaiting"}),p(v,(function(){if(d.controller){const e=n(d,"controllerchange",(()=>{e(),s(),b(null),C()}))}else b(null),C();t=!0}))}),(function(e){if(t)return e;s(),b(null),C()}))}));let P=!0,A=!1;const C=()=>{A||(A=!0,window.location.reload())};m&&n(d,"controllerchange",C);function M(e,t,n){if(n)return t?t(e()):e();try{var r=Promise.resolve(e());return t?r.then(t):r}catch(e){return Promise.reject(e)}}const j=new URL(System.resolve("./service_worker.js",t.meta.url));function S(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function H(){}const T=e=>{if(!m)return;(window.requestIdleCallback||requestAnimationFrame)((()=>{!function(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).scope;if(!m)return()=>{};let r=!1,o=()=>{},i=()=>{};h=d.register(e,{scope:t}),u(h,(function(e){if(o=()=>{e.unregister()},r)return void o();const t=e.installing;e.waiting,e.active,i=n(e,"updatefound",(()=>{e.installing!==t&&b(e.installing)}))}))}(j)})),W(e)},W=e=>{const t=document.createElement("button");t.innerHTML="Check update";const n=document.createElement("p");var r;e.appendChild(t),e.appendChild(n),t.onclick=S((function(){return t.disabled=!0,n.innerHTML="checking for update",M(y,(function(e){e||(t.disabled=!1,n.innerHTML="No update available")}))})),r=()=>{Boolean(w?{shouldBecomeNavigatorController:Boolean(d.controller),navigatorWillReload:P}:null)?(n.innerHTML="Update available <button>Activate update</button>",n.querySelector("button").onclick=S((function(){return n.querySelector("button").disabled=!0,M(E,H,e);var e}))):n.innerHTML=""},g.listen(r)},q=e=>{(e=>{const t=document.createElement("button");t.disabled=!l.isAvailable(),t.innerHTML="Add to home screen",e.appendChild(t),t.onclick=()=>{l.prompt()},l.listenAvailabilityChange((()=>{t.disabled=!l.isAvailable()}))})(e),T(e)},B=document.querySelector("#app");e("render",(()=>{const e=new URL(System.resolve("./assets/logo.png",t.meta.url));B.innerHTML="\n<img src=".concat(e,' width="64" height="64" alt="jsenv logo" />\n<p>').concat("Welcome","</p>"),q(B)}))}}}));

//# sourceMappingURL=app-871c39af.js.map